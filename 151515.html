<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Labyrinth - Sequence Analysis Grid</title>
    <script>
  // 1. ìš°í´ë¦­ ì°¨ë‹¨ (ì•„ë¬´ ë°˜ì‘ ì—†ìŒ)
  document.addEventListener('contextmenu', function(e) {
    e.preventDefault();
  }, false);

  // 2. ë‹¨ì¶•í‚¤ ì°¨ë‹¨ (F12, Ctrl+Shift+I, Ctrl+U ë“±)
  document.addEventListener('keydown', function(e) {
    const forbiddenKeys = [
      123, // F12
      73,  // I (Ctrl+Shift+I)
      74,  // J (Ctrl+Shift+J)
      85,  // U (Ctrl+U)
      83,  // S (Ctrl+S)
      67   // C (Ctrl+C - ë³µì‚¬ ë°©ì§€ê¹Œì§€ ì›í•  ê²½ìš° ì¶”ê°€)
    ];

    if (
      forbiddenKeys.includes(e.keyCode) && 
      (e.ctrlKey || e.shiftKey || e.keyCode === 123)
    ) {
      e.preventDefault();
      e.stopPropagation(); // ì´ë²¤íŠ¸ ì „íŒŒ ì¤‘ë‹¨
      return false;
    }
  }, false);
</script>
    <style>
        :root {
            --bg: #f8fafc; --card: #ffffff; --primary: #2563eb;
            --accent: #d97706; --text: #0f172a; --muted: #64748b;
            --border: #e2e8f0; --shadow: 0 10px 25px rgba(0,0,0,0.05);
            --color-1: #ffedd5; --color-2: #dcfce7; --color-3: #dbeafe;
        }
        body {
            background-color: var(--bg); color: var(--text); font-family: 'Pretendard', sans-serif;
            display: flex; flex-direction: column; align-items: center; padding: 1.5rem; margin: 0;
            min-height: 100vh; touch-action: manipulation;
        }

        .manual-section {
            width: 100%; max-width: 600px; background: var(--card); border-radius: 20px;
            padding: 15px; margin-bottom: 25px; box-shadow: var(--shadow);
            border-left: 5px solid var(--primary); font-size: 0.85rem; box-sizing: border-box;
        }
        h2 { color: var(--primary); letter-spacing: 2px; font-weight: 900; margin: 10px 0 20px; }

        .analysis-area { display: flex; flex-direction: column; gap: 15px; margin-bottom: 30px; }
        .row-container { display: flex; align-items: center; gap: 15px; }
        
        .row-label-img {
            width: 60px; height: 60px; border-radius: 12px;
            background: #eee; object-fit: cover; border: 2px solid var(--border);
        }

        .grid-row { display: grid; grid-template-columns: repeat(5, 70px); gap: 10px; }
        
        .box {
            width: 70px; height: 70px; background: var(--card);
            border: 2px solid var(--border); border-radius: 14px;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: 0.2s; font-weight: 800; color: var(--muted);
            font-size: 1.2rem;
        }
        .box.selected { border-color: var(--primary); background: var(--color-3); color: var(--primary); transform: scale(1.05); }

        /* íŠ¹ì • ì¹¸ ìƒ‰ìƒ ì§€ì • */
        #box-1-3 { background-color: var(--color-1); } 
        #box-2-1 { background-color: var(--color-1); } 
        #box-3-2 { background-color: var(--color-2); } 
        #box-2-5 { background-color: var(--color-2); } 
        #box-1-1 { background-color: var(--color-3); } 
        #box-3-1 { background-color: var(--color-3); } 

        .notebook {
            width: 100%; max-width: 600px; background: var(--card);
            border-radius: 24px; padding: 20px; box-shadow: var(--shadow);
            box-sizing: border-box; border: 1px solid var(--border);
        }
        .notebook-title {
            font-size: 1rem; font-weight: 900; color: var(--primary); margin-bottom: 15px;
            border-bottom: 2px solid #eef2ff; padding-bottom: 8px;
        }
        .log-list { list-style: none; padding: 0; margin: 0; max-height: 200px; overflow-y: auto; }
        .log-item {
            padding: 10px; border-bottom: 1px solid var(--border); font-size: 0.85rem;
            animation: fadeIn 0.3s ease;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        #temp-msg { color: var(--accent); font-weight: 800; margin-bottom: 10px; height: 20px; text-align: center; }
        .btn-reset { margin-top: 20px; padding: 10px 20px; cursor: pointer; border-radius: 8px; border: 1px solid var(--border); background: #fff; }
    </style>
</head>
<body>

    <div class="manual-section">
        <h3>ğŸ“œ ì—´ë‹¤ì„¯ ğŸ“œ</h3>
        <p>ê° ì¹¸ì—ëŠ” í•œê¸€ í•œ ê¸€ìê°€ ìˆ¨ê²¨ì ¸ ìˆìŠµë‹ˆë‹¤.</br>ë¹ˆ ì¹¸ì„ <strong>ìˆœì„œëŒ€ë¡œ ë‘ ê°œ</strong> í™•ì¸í•˜ë©´ ë‹¨ì„œë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. </br> ìˆ˜ë§ì€ ë‹¨ì„œê°€ ìˆì„ ìˆ˜ ìˆì§€ë§Œ, ì—´ ë‹¤ì„¯ ê°œì˜ ë‹¨ì„œë§Œ ê³µê°œë©ë‹ˆë‹¤.</br> <strong>ì •ë‹µ í˜•ì‹ : ë…¸ë€ìƒ‰ - ì´ˆë¡ìƒ‰ - íŒŒë€ìƒ‰</strong></p>
    </div>

    <h2>ì—´ë‹¤ì„¯</h2>

    <div id="temp-msg"></div>

    <div class="analysis-area"></div>

    <div class="notebook">
        <div class="notebook-title">ğŸ““ íŒë…ëœ ë‹¨ì„œë“¤</div>
        <div id="log-list"></div>
    </div>

    <button class="btn-reset" onclick="resetAll()">ì´ˆê¸°í™”</button>

    <script>
        const rowLabels = [
            "https://amplnet.github.io/color/15/grade.png",
            "https://amplnet.github.io/color/15/score.png",
            "https://amplnet.github.io/color/15/yugyo.jpg"
        ];

        // ì •ë‹µ ì¡°ê±´ ì„¤ì •: ì´ì œ ìˆœì„œê°€ ì¼ì¹˜í•´ì•¼ í•¨ (ì˜ˆ: 1ë²ˆ ì¹¸ -> 7ë²ˆ ì¹¸)
        const validSequences = [
{ seq: [4, 0], resultImg: "https://amplnet.github.io/color/15/4,0.png", desc: "" },        
{ seq: [4, 6], resultImg: "https://amplnet.github.io/color/15/4,6.png", desc: "" },      
{ seq: [7, 10], resultImg: "https://amplnet.github.io/color/15/7,10.png", desc: "" },      
{ seq: [5, 6], resultImg: "https://amplnet.github.io/color/15/5,6.png", desc: "" },      
{ seq: [5, 0], resultImg: "https://amplnet.github.io/color/15/5,0.png", desc: "" },      
{ seq: [2, 7], resultImg: "https://amplnet.github.io/color/15/2,7.png", desc: "" },      
{ seq: [10, 0], resultImg: "https://amplnet.github.io/color/15/10,0.png", desc: "" },      
{ seq: [6, 4], resultImg: "https://amplnet.github.io/color/15/6,4.png", desc: "" },      
{ seq: [6, 10], resultImg: "https://amplnet.github.io/color/15/6,10.png", desc: "" },      
{ seq: [3, 8], resultImg: "https://amplnet.github.io/color/15/3,8.png", desc: "" },      
{ seq: [0, 12], resultImg: "https://amplnet.github.io/color/15/0,12.png", desc: "" },      
{ seq: [11, 6], resultImg: "https://amplnet.github.io/color/15/11,6.png", desc: "" },      
{ seq: [9, 6], resultImg: "https://amplnet.github.io/color/15/9,6.png", desc: "" },      
{ seq: [13, 7], resultImg: "https://amplnet.github.io/color/15/13,7.png", desc: "" },      
{ seq: [13, 0], resultImg: "https://amplnet.github.io/color/15/13,0.png", desc: "" },      
        ];

        let selectedIndices = [];
        const area = document.querySelector('.analysis-area');
        const logList = document.getElementById('log-list');
        const msg = document.getElementById('temp-msg');

        function init() {
            area.innerHTML = '';
            for (let r = 0; r < 3; r++) {
                const rowCont = document.createElement('div');
                rowCont.className = 'row-container';
                const img = document.createElement('img');
                img.className = 'row-label-img';
                img.src = rowLabels[r];
                rowCont.appendChild(img);

                const gridRow = document.createElement('div');
                gridRow.className = 'grid-row';
                for (let c = 0; c < 5; c++) {
                    const idx = r * 5 + c;
                    const box = document.createElement('div');
                    box.className = 'box';
                    box.id = `box-${r + 1}-${c + 1}`;
                    box.innerText = '?';
                    box.onclick = () => handleBoxClick(idx, box);
                    gridRow.appendChild(box);
                }
                rowCont.appendChild(gridRow);
                area.appendChild(rowCont);
            }
        }

        function handleBoxClick(idx, el) {
            // ì´ë¯¸ ì„ íƒëœ ê²½ìš° í•´ì œ
            if (selectedIndices.includes(idx)) {
                selectedIndices = selectedIndices.filter(i => i !== idx);
                el.classList.remove('selected');
                el.innerText = '?';
                // ë‚¨ì€ ì„ íƒì§€ê°€ ìˆë‹¤ë©´ ë²ˆí˜¸ ì¬ì¡°ì •
                if (selectedIndices.length === 1) {
                    const remainingIdx = selectedIndices[0];
                    const remainingEl = document.querySelectorAll('.box')[remainingIdx];
                    remainingEl.innerText = '1';
                }
                return;
            }

            if (selectedIndices.length >= 2) return;

            selectedIndices.push(idx);
            el.classList.add('selected');
            el.innerText = selectedIndices.length; // 1 ë˜ëŠ” 2 í‘œì‹œ

            if (selectedIndices.length === 2) {
                setTimeout(analyze, 400);
            }
        }

        function analyze() {
            // ìˆœì„œë¥¼ ì •ë ¬í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ë¹„êµ (Sequence Sensitivity)
            const match = validSequences.find(s => s.seq[0] === selectedIndices[0] && s.seq[1] === selectedIndices[1]);

            if (match) {
                addLog(selectedIndices[0], selectedIndices[1], match);
                msg.innerText = "íŒë… ì„±ê³µ";
            } else {
                msg.innerText = "ì—´ ë‹¤ì„¯ê°€ì§€ ë‹¨ì„œì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";
            }

            setTimeout(() => {
                document.querySelectorAll('.box').forEach(b => {
                    b.classList.remove('selected');
                    b.innerText = '?';
                });
                selectedIndices = [];
                msg.innerText = "";
            }, 1200);
        }

        function addLog(i1, i2, data) {
            const getC = (i) => ({ r: Math.floor(i / 5) + 1, c: (i % 5) + 1 });
            const c1 = getC(i1);
            const c2 = getC(i2);

            const item = document.createElement('div');
            item.className = 'log-item';
            item.innerHTML = `<strong>[${data.desc}]</strong> (${c1.r}, ${c1.c}) â†’ (${c2.r}, ${c2.c}) íŒë…ëœ ê²°ê³¼ : <img src="${data.resultImg}" style="width:60px; vertical-align:middle;">`;
            logList.insertBefore(item, logList.firstChild);
        }

        function resetAll() {
            logList.innerHTML = '';
            msg.innerText = "ìˆ˜ì²© ì´ˆê¸°í™”ë¨.";
            setTimeout(() => msg.innerText = "", 1000);
        }

        init();
    </script>
</body>
</html>
