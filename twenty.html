<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern ìŠ¤ë¬´ê³ ê°œ - ë©€í‹° ì •ë‹µ ì‹œìŠ¤í…œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;800&display=swap');
        body { font-family: 'Pretendard', sans-serif; -webkit-user-select: none; user-select: none; overflow: hidden; }
        .glass { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.3); }
        .bg-mesh { background: radial-gradient(at 0% 0%, #a1c4fd 0, transparent 50%), radial-gradient(at 100% 0%, #c2e9fb 0, transparent 50%); background-color: #f0f4f8; }
        .q-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); cursor: pointer; }
        .q-card:hover { transform: scale(1.02); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="bg-mesh min-h-screen flex items-center justify-center p-4">

    <div id="app" class="max-w-md w-full glass rounded-[2.5rem] shadow-2xl p-8 space-y-6 relative border border-white">
        <div class="space-y-4">
            <div class="flex justify-between items-end">
                <h1 class="text-4xl font-800 text-slate-800 tracking-tight">ìŠ¤ë¬´ê³ ê°œ</h1>
                <div class="text-right">
                    <p id="turn-txt" class="text-xs font-bold text-blue-500 uppercase tracking-widest">Question 20/20</p>
                    <p id="attempt-txt" class="text-xs font-bold text-indigo-400 uppercase tracking-widest">Life 5/5</p>
                </div>
            </div>
            <div class="w-full bg-slate-100 h-3 rounded-full overflow-hidden border border-slate-50">
                <div id="p-bar" class="bg-gradient-to-r from-blue-400 to-indigo-400 h-full w-full transition-all duration-700 ease-out"></div>
            </div>
        </div>

        <div id="q-area" class="space-y-3">
            <div id="q-container" class="grid gap-3"></div>
        </div>

        <div class="bg-slate-50/50 rounded-[1.5rem] p-5 h-44 overflow-y-auto border border-slate-100/50 scrollbar-hide">
            <ul id="history" class="space-y-3 text-sm">
                <li class="text-center text-slate-300 py-10 italic">ëœë¤ìœ¼ë¡œ ë‚˜ì˜¤ëŠ” ì§ˆë¬¸ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•´ íŒíŠ¸ë¥¼ ì–»ìœ¼ì„¸ìš”. </br> íŒíŠ¸ëŠ” ì´ 20ê°œê¹Œì§€ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. </br> ì •ë‹µ ì…ë ¥ì€ 5íšŒê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤. </br> ì •ë‹µ í˜•ì‹ : NOT KOREAN</br></li>
            </ul>
        </div>

        <div class="space-y-4">
            <div class="relative group">
                <input type="text" id="guess-input" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”..." 
                    class="w-full px-6 py-4 rounded-2xl border-2 border-transparent bg-white shadow-inner focus:border-blue-300 outline-none transition-all text-slate-700 font-semibold">
                <button onclick="checkAnswer()" class="absolute right-2 top-2 bottom-2 bg-slate-900 text-white px-5 rounded-xl font-bold hover:bg-blue-600 transition-colors">í™•ì¸</button>
            </div>
            <button id="giveup-btn" onclick="showModal('giveup')" class="w-full text-slate-400 text-xs font-bold uppercase tracking-tighter hover:text-red-400 transition-colors hidden">
                ì •ë‹µì„ ëª¨ë¥´ê² ë‚˜ìš”? í¬ê¸°í•˜ê¸°
            </button>
        </div>
    </div>

    <div id="modal" class="fixed inset-0 bg-slate-900/40 backdrop-blur-sm hidden items-center justify-center p-6 z-50">
        <div class="bg-white rounded-[3rem] p-10 max-w-sm w-full text-center space-y-6 shadow-2xl border border-white animate-in zoom-in-95 duration-300">
            <div id="m-icon" class="text-7xl"></div>
            <div class="space-y-2">
                <h2 id="m-title" class="text-3xl font-800 text-slate-800"></h2>
                <p id="m-desc" class="text-slate-500 font-medium"></p>
            </div>
            <div id="m-code" class="bg-blue-50 text-blue-600 p-4 rounded-2xl font-mono font-800 text-lg hidden border border-blue-100"></div>
            <button onclick="restartGame()" class="w-full py-4 bg-slate-900 text-white rounded-2xl font-bold shadow-lg">ìƒˆ ê²Œì„ ì‹œì‘</button>
        </div>
    </div>

    <script>
        let config = {};
        let turns = 20;
        let lives = 5;

        const QUESTIONS = [
            { text: "ë™ë¬¼ì¸ê°€ìš”?", ans: "O" },
            { text: "ì‹ë¬¼ì¸ê°€ìš”?", ans: "X" },
            { text: "ì¸ë¬¼ì¸ê°€ìš”?", ans: "O" },
            { text: "ë°°ê²½ì§€ì‹ ì—†ì´ ì•Œ ìˆ˜ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ì œê°€ ì§€ê¸ˆ ì†í•´ìˆë‚˜ìš”?", ans: "X" },
            { text: "êµ­ê°€ì˜ í•œ ì¢…ë¥˜ì¸ê°€ìš”?", ans: "X" },
            { text: "êµ¬ì²´ì ì¸ ì§€ëª…ì¸ê°€ìš”?", ans: "X" },
            { text: "í† ë¼ë³´ë‹¤ í°ê°€ìš”?", ans: "O" },
            { text: "ë¹„í–‰ê¸°ë³´ë‹¤ í°ê°€ìš”?", ans: "X" },
            { text: "ê±´ë¬¼ë³´ë‹¤ í°ê°€ìš”?", ans: "X" },
            { text: "ëŒ€í•œë¯¼êµ­ì— ì‹¤ì¡´í•˜ë‚˜ìš”?", ans: "X" },
            { text: "ì§€êµ¬ì— ì‹¤ì¡´í•˜ë‚˜ìš”?", ans: "O" },
            { text: "í•œ ì†ì— ë“¤ì–´ì˜¤ë‚˜ìš”?", ans: "X" },
            { text: "ë¬´ê²Œê°€ ìˆë‚˜ìš”?", ans: "O" },
            { text: "í•œ ê°€ì§€ ìƒ‰ê¹”ë¡œë§Œ ë˜ì–´ ìˆë‚˜ìš”?", ans: "X" },
            { text: "ì§‘ ì•ˆì—ì„œ ë³¼ ìˆ˜ ìˆë‚˜ìš”?", ans: "X" },
            { text: "ì¸í„°ë„·ì—ì„œ ë³¼ ìˆ˜ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ë‹µì„ ì˜ì–´ ë‹¨ì–´ë¡œë„ ì“¸ ìˆ˜ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ë‹µì€ í•œê¸€ì¸ê°€ìš”?", ans: "X" },
            { text: "ë‹µì— íŠ¹ìˆ˜ ë¬¸ìê°€ ë“¤ì–´ê°€ë‚˜ìš”?", ans: "â–³" },
            { text: "ë‹µì€ ë‹¤ì„¯ê¸€ìì¸ê°€ìš”?", ans: "O" },
            { text: "ë‹µì— ì•ŒíŒŒë²³ì´ ë“¤ì–´ê°€ë‚˜ìš”?", ans: "O" },
            { text: "í˜„ì¬ ë‹µì„ ì…ë ¥í•  ìˆ˜ ìˆë‚˜ìš”?", ans: "â–³" },
            { text: "ë‹µì— ì•ŒíŒŒë²³ 'e'ê°€ ë“¤ì–´ê°€ë‚˜ìš”?", ans: "O" },
            { text: "ë‹µì— ì•ŒíŒŒë²³ 'u'ê°€ ë“¤ì–´ê°€ë‚˜ìš”?", ans: "O" },
            { text: "ë‹µì— ì•ŒíŒŒë²³ 'a'ê°€ ë“¤ì–´ê°€ë‚˜ìš”?", ans: "X" },
            { text: "ë‹µì— ì•ŒíŒŒë²³ 'i'ê°€ ë“¤ì–´ê°€ë‚˜ìš”?", ans: "X" },
            { text: "ë‹µì— ì•ŒíŒŒë²³ 'o'ê°€ ë“¤ì–´ê°€ë‚˜ìš”?", ans: "X" },
            { text: "ìŒì‹ì¸ê°€ìš”?", ans: "X" },
            { text: "ëƒ„ìƒˆê°€ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ì†Œë¦¬ê°€ ë‚˜ë‚˜ìš”?", ans: "O" },
            { text: "ì˜¨ë„ê°€ ëŠê»´ì§€ë‚˜ìš”?", ans: "O" },
            { text: "ìˆ˜ì»· í˜¹ì€ ë‚¨ìì¸ê°€ìš”?", ans: "X" },
            { text: "ì• ë‹ˆë©”ì´ì…˜ì—ì„œë§Œ ë‚˜ì˜¤ëŠ” ì¸ë¬¼ì¸ê°€ìš”?", ans: "X" },
            { text: "ê²Œì„ ì†ì—ì„œë§Œ ë‚˜ì˜¤ëŠ” ì¸ë¬¼ì¸ê°€ìš”?", ans: "X" },
            { text: "ê²Œì„ì—ì„œë„ ë“±ì¥í•˜ë‚˜ìš”?", ans: "O" },
            { text: "ì‹¤ì¡´í–ˆë˜ ì¸ë¬¼ì¸ê°€ìš”?", ans: "O" },
            { text: "ì •ì¹˜ì™€ ê´€ë ¨ì´ ìˆë‚˜ìš”?", ans: "O" },
            { text: "íŠ¹ë³„í•œ í˜¸ì¹­ìœ¼ë¡œ ë¶€ë¥´ë‚˜ìš”?", ans: "O" },
            { text: "ë³´ë“œê²Œì„ì— ë“±ì¥í•˜ë‚˜ìš”?", ans: "O" },
            { text: "ë™í™”ì±…ì— ë“±ì¥í•˜ë‚˜ìš”?", ans: "O" },
            { text: "ë¹„ìœ ì  í‘œí˜„ìœ¼ë¡œë„ ì‚¬ìš©í•˜ë‚˜ìš”?", ans: "O" },
            { text: "ê²°í˜¼ì„ í†µí•´ ì–»ì„ ìˆ˜ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ì‚¬ëŒì´ ë§Œë“¤ì—ˆë‚˜ìš”?", ans: "O" },
            { text: "ì›€ì§ì¼ ìˆ˜ ìˆë‚˜ìš”?", ans: "O" },
            { text: "íˆ¬ëª…í•œê°€ìš”?", ans: "X" },
            { text: "ë§ˆíŠ¸ì—ì„œ ì‚´ ìˆ˜ ìˆë‚˜ìš”?", ans: "X" },
            { text: "êµê³¼ì„œì— ë‚˜ì˜¤ë‚˜ìš”?", ans: "O" },
            { text: "í˜„ì¬ 1,000ê°œ ì´ìƒ ì¡´ì¬í•˜ë‚˜ìš”?", ans: "X" },
            { text: "ê³¼ê±°ì—ë§Œ ìˆì—ˆë˜ ì¡´ì¬ì¸ê°€ìš”?", ans: "X" },
            { text: "ì¼ë°˜ì¸ì´ í‰ìƒ í•œ ë²ˆ ë³¼ê¹Œ ë§ê¹Œ í• ê¹Œìš”?", ans: "O" },
            { text: "ë™ë¬¼ë“¤ì—ê²Œë„ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ê³¼ê±° í•œêµ­ ë•…ì— ìˆì—ˆë˜ ì¡´ì¬ì¸ê°€ìš”?", ans: "O" },
            { text: "ë‹µì„ ì†Œì¬ë¡œ í•œ ë°´ë“œê°€ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ë‹µì„ ì†Œì¬ë¡œ í•œ ì˜í™”ê°€ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ë‹µì„ ì†Œì¬ë¡œ í•œ ë“œë¼ë§ˆê°€ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ê¼¬ë¦¬ê°€ ìˆë‚˜ìš”?", ans: "X" },
            { text: "ì²œì‚¬ì¸ê°€ìš”?", ans: "X" },
            { text: "ì•…ë§ˆì¸ê°€ìš”?", ans: "X" },
            { text: "ë¨¸ë¦¬ì¹´ë½ì´ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ë‚ ê°œê°€ ìˆë‚˜ìš”?", ans: "X" },
            { text: "ë‘ ë°œë¡œ ì„œìˆë‚˜ìš”?", ans: "O" },
            { text: "ê²Œì„ì—ì„œ ë“±ì¥í•˜ë‚˜ìš”?", ans: "O" },
            { text: "ë³´ë“œê²Œì„ì—ì„œ ë“±ì¥í•˜ë‚˜ìš”?", ans: "O" },
            { text: "ì•”ì»· í˜¹ì€ ì—¬ìì¸ê°€ìš”?", ans: "O" },
            { text: "ëŒ€ìƒ ì¤‘ ì£½ì€ ì‚¬ëŒì´ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ëŒ€ìƒ ì¤‘ ì‚´ì•„ìˆëŠ” ì‚¬ëŒì´ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ì •ë‹µì´ ìŒì•…ê³¼ ê´€ë ¨ìˆë‚˜ìš”?", ans: "O" },
            { text: "ëŒ€ìƒì„ ì†Œì¬ë¡œ í•œ ì˜í™”ê°€ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ëŒ€ìƒì„ ì†Œì¬ë¡œ í•œ ë…¸ë˜ê°€ ìˆë‚˜ìš”?", ans: "O" },
            { text: "ì •ë‹µ ì¤‘ '?'ê°€ ë“¤ì–´ê°€ë‚˜ìš”?", ans: "â–³" },
            { text: "ìœ ëª…í•œ ì‚¬ëŒì¸ê°€ìš”?", ans: "O" },
            { text: "ì í”„ë¥¼ í•  ìˆ˜ ìˆë‚˜ìš”?", ans: "O" },
            { text: "í¬ìœ ë¥˜ì¸ê°€ìš”?", ans: "O" },
            { text: "ë°”ë‹¤ì— ì‚¬ë‚˜ìš”?", ans: "X" },
            { text: "ì†ŒíŒŒë³´ë‹¤ í¬ë‚˜ìš”?", ans: "X" },
            { text: "í•œê¸€ë¡œ í•´ì„í•  ë•Œ ì„¸ê¸€ì ì´ìƒì¸ê°€ìš”?", ans: "X" },
            { text: "í•œê¸€ë¡œ í•´ì„í•  ë•Œ 'ã…‡'ì´ ë“¤ì–´ê°€ë‚˜ìš”?", ans: "O" },
            { text: "í•œê¸€ë¡œ í•´ì„í•  ë•Œ ì„œë¡œ ë‹¤ë¥¸ ììŒì´ 2ê°œ ì´ìƒ ë“¤ì–´ê°€ë‚˜ìš”?", ans: "X" },
            { text: "ë¯¼ì£¼ì£¼ì˜ êµ­ê°€ì—ì„œ ì¡´ì¬í•˜ë‚˜ìš”?", ans: "O" },
            { text: "ìœ ëª…í•œ ë³´ë“œê²Œì„ì— ë“±ì¥í•˜ë‚˜ìš”?", ans: "O" },
            { text: "ìœ ëª…í•œ ì¹´ë“œê²Œì„ì— ë“±ì¥í•˜ë‚˜ìš”?", ans: "O" },
            { text: "ìœ ëª…í•œ ì»´í“¨í„° ê²Œì„ì— ë“±ì¥í•˜ë‚˜ìš”?", ans: "O" },
            { text: "ë‹µì„ í•œê¸€ë¡œ ì½ì—ˆì„ ë•Œ í•œê¸€ìì¸ê°€ìš”?", ans: "O" },
            { text: "íŠ¹ì • ë‚˜ë¼ì—ë§Œ ìˆë‚˜ìš”?", ans: "O" }, // ì‰¼í‘œ ì¶”ê°€ë¨
            { text: "ëˆˆìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‚˜ìš”?", ans: "O" }
        ];

        async function init() {
            try {
                const res = await fetch('https://amplnet.github.io/color/config2.json');
                if(!res.ok) throw new Error();
                config = await res.json();
            } catch(e) {
                config ={
                    "answer1Hash": ["412748b33c459d1ecb9a1707e336134924e0d6c572d2557f30a8a6b26000df09", "80783afcdcb3fee8720b8e1e6fba36a1cb9557556b96a24b26806504789c23bc"],
                    "answer2Hash": ["a9c3c1f7674502331a5ad3e54592d3eb2fc39cf78bb908004777ff4ac89119e4", "f9b67545230b5cc7b9d784b5b85885acf9b2681165a3bddbf964a3bc4bac20dd"],
                    "encryptedSuccess": "P3Vlc3Q/dWVzdA==",
                    "encryptedGiveup": "cXVlc3RzdWNjZXNz"
                };

            }
            drawQuestions();
        }

        function restartGame() {
            turns = 20;
            lives = 5;
            document.getElementById('history').innerHTML = '<li class="text-center text-slate-300 py-10 italic">ì§ˆë¬¸ì„ ì„ íƒí•´ íŒíŠ¸ë¥¼ ì–»ìœ¼ì„¸ìš”. </br> íŒíŠ¸ëŠ” ì´ 20ê°œê¹Œì§€ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. </br> ì •ë‹µ ì…ë ¥ì€ 5íšŒê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤. </br> </li>';
            document.getElementById('modal').classList.replace('flex', 'hidden');
            document.getElementById('giveup-btn').classList.add('hidden');
            document.getElementById('guess-input').value = '';
            updateUI();
            drawQuestions();
        }

        function drawQuestions() {
            const container = document.getElementById('q-container');
            container.innerHTML = '';
            if (turns > 0) {
                const randoms = [...QUESTIONS].sort(() => 0.5 - Math.random()).slice(0, 3);
                randoms.forEach(q => {
                    const div = document.createElement('div');
                    div.className = "q-card bg-white/70 p-4 rounded-[1.2rem] border border-white flex justify-between items-center text-sm font-bold text-slate-600 shadow-sm";
                    div.innerHTML = `<span>${q.text}</span> <i data-lucide="plus-circle" class="w-4 h-4 text-blue-400"></i>`;
                    div.onclick = () => useTurn(q);
                    container.appendChild(div);
                });
            } else {
                container.innerHTML = '<p class="text-center text-slate-400 py-4 font-bold">ì§ˆë¬¸ ê¸°íšŒë¥¼ ëª¨ë‘ ì†Œì§„í–ˆìŠµë‹ˆë‹¤.</p>';
            }
            lucide.createIcons();
        }

        function useTurn(q) {
            if(turns <= 0) return;
            turns--;
            const hist = document.getElementById('history');
            if(turns === 19) hist.innerHTML = ''; 
            const li = document.createElement('li');
            li.className = "flex justify-between items-center bg-white p-3 rounded-xl shadow-sm border-l-4 border-blue-400 animate-in slide-in-from-right-2";
            li.innerHTML = `<span class="text-slate-500 font-medium">${q.text}</span> <b class="text-blue-600 font-800">${q.ans}</b>`;
            hist.prepend(li);
            updateUI();
            drawQuestions();
        }

        function updateUI() {
            document.getElementById('turn-txt').innerText = `Question ${turns}/20`;
            document.getElementById('attempt-txt').innerText = `Life ${lives}/5`;
            document.getElementById('p-bar').style.width = `${(turns / 20) * 100}%`;
            if (turns === 0) document.getElementById('giveup-btn').classList.remove('hidden');
        }

        async function hash(msg) {
            const encoder = new TextEncoder();
            const data = encoder.encode(msg.toUpperCase());
            const buffer = await crypto.subtle.digest('SHA-256', data);
            return Array.from(new Uint8Array(buffer)).map(b => b.toString(16).padStart(2, '0')).join('');
        }

        async function checkAnswer() {
            const input = document.getElementById('guess-input');
            const val = input.value.trim().toUpperCase();
            if(!val) return;
            const userHash = await hash(val);
            const isAns1 = config.answer1Hash.includes(userHash);
            const isAns2 = config.answer2Hash.includes(userHash);
            if(isAns1) showModal('ans1');
            else if(isAns2) showModal('ans2');
            else {
                lives--;
                updateUI();
                if(lives <= 0) showModal('fail');
                else alert("ì •ë‹µì´ ì•„ë‹™ë‹ˆë‹¤!");
            }
            input.value = '';
        }

        function showModal(type) {
            const m = document.getElementById('modal');
            const codeBox = document.getElementById('m-code');
            m.classList.remove('hidden');
            m.classList.add('flex');
            codeBox.classList.add('hidden');

            if(type === 'ans1') {
                document.getElementById('m-icon').innerText = 'ğŸ’';
                document.getElementById('m-title').innerText = 'ì •ë‹µì…ë‹ˆë‹¤!';
                document.getElementById('m-desc').innerText = 'íŠ¹ë³„ ì½”ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”.';
                codeBox.innerText = atob(config.encryptedSuccess);
                codeBox.classList.remove('hidden');
            } else if(type === 'ans2') {
                document.getElementById('m-icon').innerText = 'ğŸŒ';
                document.getElementById('m-title').innerText = 'ì •ë‹µì…ë‹ˆë‹¤!';
                document.getElementById('m-desc').innerText = 'ì½”ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”.';
                codeBox.innerText = atob(config.encryptedGiveup);
                codeBox.classList.remove('hidden');
            } else if(type === 'giveup') {
                document.getElementById('m-icon').innerText = 'ğŸ³ï¸';
                document.getElementById('m-title').innerText = 'í¬ê¸°í•˜ì…¨ìŠµë‹ˆë‹¤';
                document.getElementById('m-desc').innerText = 'ì½”ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”.';
                codeBox.innerText = atob(config.encryptedGiveup);
                codeBox.classList.remove('hidden');
            } else {
                document.getElementById('m-icon').innerText = 'ğŸ’€';
                document.getElementById('m-title').innerText = 'GAME OVER';
                document.getElementById('m-desc').innerText = 'ê¸°íšŒë¥¼ ëª¨ë‘ ì†Œì§„í–ˆìŠµë‹ˆë‹¤.';
            }
        }

        document.addEventListener('contextmenu', e => e.preventDefault());
        document.onkeydown = e => { if(e.keyCode == 123 || (e.ctrlKey && e.shiftKey && e.keyCode == 73)) return false; };

        init();
    </script>
</body>
</html>
